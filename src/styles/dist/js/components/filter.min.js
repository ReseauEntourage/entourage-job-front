/*! UIkit 3.5.4 | https://www.getuikit.com | (c) 2014 - 2022 YOOtheme | MIT License */
!(function (t, e) {
  'object' == typeof exports && 'undefined' != typeof module
    ? (module.exports = e(require('uikit-util')))
    : 'function' == typeof define && define.amd
    ? define('uikitfilter', ['uikit-util'], e)
    : ((t = t || self).UIkitFilter = e(t.UIkit.util));
})(this, function (u) {
  'use strict';
  var s,
    c = 'uk-animation-target';
  function l(t, e) {
    var i = u.css(t, 'zIndex');
    return (
      !!u.isVisible(t) &&
      u.assign(
        {
          display: '',
          opacity: e ? u.css(t, 'opacity') : '0',
          pointerEvents: 'none',
          position: 'absolute',
          zIndex: 'auto' === i ? u.index(t) : i,
        },
        h(t)
      )
    );
  }
  function f(t) {
    u.css(t.children, {
      height: '',
      left: '',
      opacity: '',
      pointerEvents: '',
      position: '',
      top: '',
      width: '',
    }),
      u.removeClass(t, c),
      u.css(t, { height: '', display: '' });
  }
  function h(t) {
    var e = u.offset(t),
      i = e.height,
      e = e.width,
      t = u.position(t);
    return { top: t.top, left: t.left, height: i, width: e };
  }
  var t = {
    mixins: [
      {
        props: { animation: Number },
        data: { animation: 150 },
        computed: {
          target: function () {
            return this.$el;
          },
        },
        methods: {
          animate: function (t) {
            var i = this,
              n =
                (s ||
                  (s = u.append(document.head, '<style>').sheet).insertRule(
                    '.' +
                      c +
                      ' > * {\n            margin-top: 0 !important;\n            transform: none !important;\n        }',
                    0
                  ),
                u.children(this.target)),
              r = n.map(function (t) {
                return l(t, !0);
              }),
              e = u.height(this.target),
              a = window.pageYOffset,
              t =
                (t(),
                u.Transition.cancel(this.target),
                n.forEach(u.Transition.cancel),
                f(this.target),
                this.$update(this.target, 'resize'),
                u.fastdom.flush(),
                u.height(this.target)),
              o = (n = n.concat(
                u.children(this.target).filter(function (t) {
                  return !u.includes(n, t);
                })
              )).map(function (t, e) {
                return (
                  !!(t.parentNode && e in r) &&
                  (r[e]
                    ? u.isVisible(t)
                      ? h(t)
                      : { opacity: 0 }
                    : { opacity: u.isVisible(t) ? 1 : 0 })
                );
              }),
              r = o.map(function (t, e) {
                e = n[e].parentNode === i.target && (r[e] || l(n[e]));
                return (
                  e &&
                    (t
                      ? 'opacity' in t ||
                        (e.opacity % 1 ? (t.opacity = 1) : delete e.opacity)
                      : delete e.opacity),
                  e
                );
              });
            return (
              u.addClass(this.target, c),
              n.forEach(function (t, e) {
                return r[e] && u.css(t, r[e]);
              }),
              u.css(this.target, { height: e, display: 'block' }),
              u.scrollTop(window, a),
              u.Promise.all(
                n
                  .map(function (t, e) {
                    return (
                      ['top', 'left', 'height', 'width'].some(function (t) {
                        return r[e][t] !== o[e][t];
                      }) && u.Transition.start(t, o[e], i.animation, 'ease')
                    );
                  })
                  .concat(
                    e !== t &&
                      u.Transition.start(
                        this.target,
                        { height: t },
                        this.animation,
                        'ease'
                      )
                  )
              ).then(function () {
                n.forEach(function (t, e) {
                  return u.css(t, {
                    display: 0 === o[e].opacity ? 'none' : '',
                    zIndex: '',
                  });
                }),
                  f(i.target),
                  i.$update(i.target, 'resize'),
                  u.fastdom.flush();
              }, u.noop)
            );
          },
        },
      },
    ],
    args: 'target',
    props: { target: Boolean, selActive: Boolean },
    data: {
      target: null,
      selActive: !1,
      attrItem: 'uk-filter-control',
      cls: 'uk-active',
      animation: 250,
    },
    computed: {
      toggles: {
        get: function (t, e) {
          t.attrItem;
          return u.$$(
            '[' + this.attrItem + '],[data-' + this.attrItem + ']',
            e
          );
        },
        watch: function () {
          var e,
            i = this;
          this.updateState(),
            !1 !== this.selActive &&
              ((e = u.$$(this.selActive, this.$el)),
              this.toggles.forEach(function (t) {
                return u.toggleClass(t, i.cls, u.includes(e, t));
              }));
        },
        immediate: !0,
      },
      target: function (t, e) {
        t = t.target;
        return u.$(t, e);
      },
      children: {
        get: function () {
          return u.children(this.target);
        },
        watch: function (t, e) {
          var i;
          (i = e),
            ((e = t).length === i.length &&
              e.every(function (t) {
                return ~i.indexOf(t);
              })) ||
              this.updateState();
        },
      },
    },
    events: [
      {
        name: 'click',
        delegate: function () {
          return '[' + this.attrItem + '],[data-' + this.attrItem + ']';
        },
        handler: function (t) {
          t.preventDefault(), this.apply(t.current);
        },
      },
    ],
    methods: {
      apply: function (t) {
        this.setState(n(t, this.attrItem, this.getState()));
      },
      getState: function () {
        var i = this;
        return this.toggles
          .filter(function (t) {
            return u.hasClass(t, i.cls);
          })
          .reduce(
            function (t, e) {
              return n(e, i.attrItem, t);
            },
            { filter: { '': '' }, sort: [] }
          );
      },
      setState: function (o, t) {
        function e() {
          (a = (a = o).filter),
            (e = ''),
            u.each(a, function (t) {
              return (e += t || '');
            });
          var e,
            i,
            n,
            r = e;
          c.forEach(function (t) {
            return u.css(t, 'display', r && !u.matches(t, r) ? 'none' : '');
          });
          var t = (a = o.sort)[0],
            a = a[1];
          t &&
            ((i = t),
            (n = a),
            (t = u.assign([], c).sort(function (t, e) {
              return (
                u
                  .data(t, i)
                  .localeCompare(u.data(e, i), void 0, { numeric: !0 }) *
                ('asc' === n || -1)
              );
            })),
            u.isEqual(t, c) ||
              t.forEach(function (t) {
                return u.append(s.target, t);
              }));
        }
        var s = this,
          c =
            (void 0 === t && (t = !0),
            (o = u.assign({ filter: { '': '' }, sort: [] }, o)),
            u.trigger(this.$el, 'beforeFilter', [this, o]),
            this.children);
        this.toggles.forEach(function (t) {
          return u.toggleClass(
            t,
            s.cls,
            !!(function (t, e, i) {
              var n = i.filter;
              void 0 === n && (n = { '': '' });
              var i = i.sort,
                r = i[0],
                i = i[1],
                t = d(t, e),
                e = t.filter;
              void 0 === e && (e = '');
              var a = t.group;
              void 0 === a && (a = '');
              var o = t.sort,
                t = t.order;
              void 0 === t && (t = 'asc');
              return u.isUndefined(o)
                ? (a in n && e === n[a]) || (!e && a && !(a in n) && !n[''])
                : r === o && i === t;
            })(t, s.attrItem, o)
          );
        });
        t
          ? this.animate(e).then(function () {
              return u.trigger(s.$el, 'afterFilter', [s]);
            })
          : (e(), u.trigger(this.$el, 'afterFilter', [this]));
      },
      updateState: function () {
        var t = this;
        u.fastdom.write(function () {
          return t.setState(t.getState(), !1);
        });
      },
    },
  };
  function d(t, e) {
    return u.parseOptions(u.data(t, e), ['filter']);
  }
  function n(t, e, i) {
    var t = d(t, e),
      e = t.filter,
      n = t.group,
      r = t.sort,
      t = t.order;
    return (
      void 0 === t && (t = 'asc'),
      (e || u.isUndefined(r)) &&
        (n
          ? e
            ? (delete i.filter[''], (i.filter[n] = e))
            : (delete i.filter[n],
              (u.isEmpty(i.filter) || '' in i.filter) &&
                (i.filter = { '': e || '' }))
          : (i.filter = { '': e || '' })),
      u.isUndefined(r) || (i.sort = [r, t]),
      i
    );
  }
  return (
    'undefined' != typeof window &&
      window.UIkit &&
      window.UIkit.component('filter', t),
    t
  );
});
