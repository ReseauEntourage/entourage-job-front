/*! UIkit 3.6.22 | https://www.getuikit.com | (c) 2014 - 2023 YOOtheme | MIT License */
!(function (t, e) {
  'object' == typeof exports && 'undefined' != typeof module
    ? (module.exports = e(require('uikit-util')))
    : 'function' == typeof define && define.amd
      ? define('uikitslideshow_parallax', ['uikit-util'], e)
      : ((t =
          'undefined' != typeof globalThis
            ? globalThis
            : t || self).UIkitSlideshow_parallax = e(t.UIkit.util));
})(this, function (g) {
  'use strict';
  var t = {
    props: { media: Boolean },
    data: { media: !1 },
    computed: {
      matchMedia: function () {
        var t = (function (t) {
          if (g.isString(t))
            if ('@' === t[0]) {
              var e = 'breakpoint-' + t.substr(1);
              t = g.toFloat(g.getCssVar(e));
            } else if (isNaN(t)) return t;
          return !(!t || isNaN(t)) && '(min-width: ' + t + 'px)';
        })(this.media);
        return !t || window.matchMedia(t).matches;
      },
    },
  };
  g.memoize(function (i) {
    return new g.Promise(function (e, t) {
      i
        ? g.startsWith(i, 'data:')
          ? e(decodeURIComponent(i.split(',')[1]))
          : g.ajax(i).then(
              function (t) {
                return e(t.response);
              },
              function () {
                return t('SVG not found.');
              }
            )
        : t();
    });
  });
  var e = [
    'x',
    'y',
    'bgx',
    'bgy',
    'rotate',
    'scale',
    'color',
    'backgroundColor',
    'borderColor',
    'opacity',
    'blur',
    'hue',
    'grayscale',
    'invert',
    'saturate',
    'sepia',
    'fopacity',
    'stroke',
  ];
  function b(t, e) {
    var i = t.length - 1,
      n = Math.min(Math.floor(i * e), i - 1),
      t = t.slice(n, n + 2);
    return t.push(1 === e ? 1 : (e % (1 / i)) * i), t;
  }
  t = {
    mixins: [
      {
        mixins: [t],
        props: e.reduce(function (t, e) {
          return (t[e] = 'list'), t;
        }, {}),
        data: e.reduce(function (t, e) {
          return (t[e] = void 0), t;
        }, {}),
        computed: {
          props: function (h, p) {
            var m = this;
            return e.reduce(function (t, e) {
              if (!g.isUndefined(h[e])) {
                var i,
                  n,
                  r,
                  a,
                  s,
                  o,
                  c,
                  u = e.match(/color/i),
                  l = u || 'opacity' === e,
                  d = h[e].slice(),
                  l =
                    (l && g.css(p, e, ''),
                    d.length < 2 &&
                      d.unshift(('scale' === e ? 1 : l ? g.css(p, e) : 0) || 0),
                    d.reduce(function (t, e) {
                      return ((g.isString(e) && e.replace(/-|\d/g, '').trim()) || t);
                    }, ''));
                if (
                  (u
                    ? ((u = p.style.color),
                      (d = d.map(function (t) {
                        return g
                          .css(g.css(p, 'color', t), 'color')
                          .split(/[(),]/g)
                          .slice(1, -1)
                          .concat(1)
                          .slice(0, 4)
                          .map(g.toFloat);
                      })),
                      (p.style.color = u))
                    : g.startsWith(e, 'bg')
                      ? ((r = 'bgy' === e ? 'height' : 'width'),
                        (d = d.map(function (t) {
                          return g.toPx(t, r, m.$el);
                        })),
                        g.css(p, 'background-position-' + e[2], ''),
                        (n = g.css(p, 'backgroundPosition').split(' ')[
                          'x' === e[2] ? 0 : 1
                        ]),
                        (i = m.covers
                          ? ((a = Math.min.apply(Math, d)),
                            (s = Math.max.apply(Math, d)),
                            (o = d.indexOf(a) < d.indexOf(s)),
                            (c = s - a),
                            (d = d.map(function (t) {
                              return t - (o ? a : s);
                            })),
                            (o ? -c : 0) + 'px')
                          : n))
                      : (d = d.map(g.toFloat)),
                  'stroke' === e)
                ) {
                  if (
                    !d.some(function (t) {
                      return t;
                    })
                  )
                    return t;
                  u = m.$el;
                  var f = Math.ceil(
                    Math.max.apply(
                      Math,
                      [0].concat(
                        g.$$('[stroke]', u).map(function (t) {
                          try {
                            return t.getTotalLength();
                          } catch (t) {
                            return 0;
                          }
                        })
                      )
                    )
                  );
                  g.css(p, 'strokeDasharray', f),
                    (d = (d =
                      '%' === l
                        ? d.map(function (t) {
                            return (t * f) / 100;
                          })
                        : d).reverse()),
                    (e = 'strokeDashoffset');
                }
                t[e] = { steps: d, unit: l, pos: i, bgPos: n, diff: c };
              }
              return t;
            }, {});
          },
          bgProps: function () {
            var e = this;
            return ['bgx', 'bgy'].filter(function (t) {
              return t in e.props;
            });
          },
          covers: function (t, e) {
            return (
              (i = (e = e).style.backgroundSize),
              (n =
                'cover' ===
                g.css(g.css(e, 'backgroundSize', ''), 'backgroundSize')),
              (e.style.backgroundSize = i),
              n
            );
            var i, n;
          },
        },
        disconnected: function () {
          delete this._image;
        },
        update: {
          read: function (t) {
            var e,
              i,
              o,
              c,
              u,
              l = this;
            this.matchMedia &&
              (!t.image &&
                this.covers &&
                this.bgProps.length &&
                (i = g
                  .css(this.$el, 'backgroundImage')
                  .replace(/^none|url\(["']?(.+?)["']?\)$/, '$1')) &&
                (((e = new Image()).src = i),
                (t.image = e).naturalWidth ||
                  (e.onload = function () {
                    return l.$update();
                  })),
              (i = t.image)) &&
              i.naturalWidth &&
              ((o = {
                width: this.$el.offsetWidth,
                height: this.$el.offsetHeight,
              }),
              (c = { width: i.naturalWidth, height: i.naturalHeight }),
              (u = g.Dimensions.cover(c, o)),
              this.bgProps.forEach(function (t) {
                var e,
                  i = l.props[t],
                  n = i.diff,
                  r = i.bgPos,
                  i = i.steps,
                  a = 'bgy' === t ? 'height' : 'width',
                  s = u[a] - o[a];
                s < n
                  ? (o[a] = u[a] + n - s)
                  : n < s &&
                    (e = o[a] / g.toPx(r, a, l.$el)) &&
                    (l.props[t].steps = i.map(function (t) {
                      return t - (s - n) / e;
                    })),
                  (u = g.Dimensions.cover(c, o));
              }),
              (t.dim = u));
          },
          write: function (t) {
            t = t.dim;
            this.matchMedia
              ? t &&
                g.css(this.$el, {
                  backgroundSize: t.width + 'px ' + t.height + 'px',
                  backgroundRepeat: 'no-repeat',
                })
              : g.css(this.$el, { backgroundSize: '', backgroundRepeat: '' });
          },
          events: ['resize'],
        },
        methods: {
          reset: function () {
            var i = this;
            g.each(this.getCss(0), function (t, e) {
              return g.css(i.$el, e, '');
            });
          },
          getCss: function (p) {
            var m = this.props;
            return Object.keys(m).reduce(
              function (t, e) {
                var i,
                  n,
                  r,
                  a = m[e],
                  s = a.steps,
                  o = a.unit,
                  c = a.pos,
                  u =
                    (void 0 === n && (n = 2),
                    (i = (a = b((a = s), (i = p)))[0]),
                    (r = a[1]),
                    (a = a[2]),
                    (g.isNumber(i)
                      ? i + Math.abs(i - r) * a * (i < r ? 1 : -1)
                      : +r
                    ).toFixed(n));
                switch (e) {
                  case 'x':
                  case 'y':
                    (o = o || 'px'),
                      (t.transform +=
                        ' translate' +
                        g.ucfirst(e) +
                        '(' +
                        g.toFloat(u).toFixed('px' === o ? 0 : 2) +
                        o +
                        ')');
                    break;
                  case 'rotate':
                    t.transform += ' rotate(' + (u + (o = o || 'deg')) + ')';
                    break;
                  case 'scale':
                    t.transform += ' scale(' + u + ')';
                    break;
                  case 'bgy':
                  case 'bgx':
                    t['background-position-' + e[2]] =
                      'calc(' + c + ' + ' + u + 'px)';
                    break;
                  case 'color':
                  case 'backgroundColor':
                  case 'borderColor':
                    var l = b(s, p),
                      d = l[0],
                      f = l[1],
                      h = l[2];
                    t[e] =
                      'rgba(' +
                      d
                        .map(function (t, e) {
                          return (
                            (t += h * (f[e] - t)),
                            3 === e ? g.toFloat(t) : parseInt(t, 10)
                          );
                        })
                        .join(',') +
                      ')';
                    break;
                  case 'blur':
                    t.filter += ' blur(' + (u + (o = o || 'px')) + ')';
                    break;
                  case 'hue':
                    t.filter += ' hue-rotate(' + (u + (o = o || 'deg')) + ')';
                    break;
                  case 'fopacity':
                    t.filter += ' opacity(' + (u + (o = o || '%')) + ')';
                    break;
                  case 'grayscale':
                  case 'invert':
                  case 'saturate':
                  case 'sepia':
                    t.filter += ' ' + e + '(' + (u + (o = o || '%')) + ')';
                    break;
                  default:
                    t[e] = u;
                }
                return t;
              },
              { transform: '', filter: '' }
            );
          },
        },
      },
    ],
    data: { selItem: '!li' },
    computed: {
      item: function (t, e) {
        t = t.selItem;
        return g.query(t, e);
      },
    },
    events: [
      {
        name: 'itemin itemout',
        self: !0,
        el: function () {
          return this.item;
        },
        handler: function (t) {
          var i = this,
            n = t.type,
            t = t.detail,
            r = t.percent,
            a = t.duration,
            s = t.timing,
            o = t.dir;
          g.fastdom.read(function () {
            var t = i.getCss(u(n, o, r)),
              e = i.getCss(c(n) ? 0.5 : 0 < o ? 1 : 0);
            g.fastdom.write(function () {
              g.css(i.$el, t), g.Transition.start(i.$el, e, a, s).catch(g.noop);
            });
          });
        },
      },
      {
        name: 'transitioncanceled transitionend',
        self: !0,
        el: function () {
          return this.item;
        },
        handler: function () {
          g.Transition.cancel(this.$el);
        },
      },
      {
        name: 'itemtranslatein itemtranslateout',
        self: !0,
        el: function () {
          return this.item;
        },
        handler: function (t) {
          var e = this,
            i = t.type,
            t = t.detail,
            n = t.percent,
            r = t.dir;
          g.fastdom.read(function () {
            var t = e.getCss(u(i, r, n));
            g.fastdom.write(function () {
              return g.css(e.$el, t);
            });
          });
        },
      },
    ],
  };
  function c(t) {
    return g.endsWith(t, 'in');
  }
  function u(t, e, i) {
    return (i /= 2), c(t) ? (e < 0 ? 1 - i : i) : e < 0 ? i : 1 - i;
  }
  return (
    'undefined' != typeof window &&
      window.UIkit &&
      window.UIkit.component('slideshowParallax', t),
    t
  );
});
